{
  "type": "sequential",
  "config": {
    "item": {
      "output": {
        "path": "linear-test"
      }
    }
  },
  "steps": [
    {
      "type": "command",
      "value": "rm 10K_items.csv"
    },
    {
      "type": "command",
      "value": "rm $ITEM_INPUT_FILE"
    },
    {
      "type": "command",
      "value": "export ITEM_INPUT_FILE=delete.csv"
    },
    {
      "type": "precondition",
      "config": {
        "item": {
          "output": {
            "file": "$ITEM_INPUT_FILE"
          }
        },
        "test": {
          "step": {
            "limit": {
              "count": 10000
            }
          }
        }
      }
    },
    {
      "type": "for",
      "value": "itemSize",
      "in": [
        "10KB",
        "1MB",
        "100MB"
      ],
      "config": {
        "item": {
          "output": {
            "file": "10K_items.csv"
          }
        }
      },
      "steps": [
        {
          "type": "command",
          "value": "echo ${itemSize}"
        },
        {
          "type": "for",
          "value": "concurrencyLimit",
          "in": [
            1,
            10,
            100
          ],
          "steps": [
            {
              "type": "command",
              "value": "echo ${concurrencyLimit}"
            },
            {
              "type": "load",
              "config": {
                "item": {
                  "data": {
                    "size": "${itemSize}"
                  }
                },
                "load": {
                  "limit": {
                    "concurrency": "${concurrencyLimit}"
                  }
                },
                "test": {
                  "step": {
                    "limit": {
                      "time": "1m"
                    }
                  }
                }
              }
            }
          ]
        }
      ]
    }
  ]
}
