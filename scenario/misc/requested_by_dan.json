{
	"type" : "sequential",
	"config" : {
		"item" : {
			"data" : {
				"size" : "10KB"
			},
			"output" : {
				"path" : "test-bucket"
			}
		},
		"test" : {
			"step" : {
				"limit" : {
					"time" : "5m"
				}
			}
		},
		"storage" : {
			"driver" : {
				"concurrency" : 100
			}
		}
	},
	"steps" : [
		// precondition jobs
		{
			"type" : "precondition",
			"config" : {
				"item" : {
					"output" : {
						"file" : "pre_10KB_items.csv"
					}
				},
				"test" : {
					"step" : {
						"limit" : {
							"count" : 1000
						}
					}
				}
			}
		},
		{
			"type" : "precondition",
			"config" : {
				"item" : {
					"input" : {
						"file" : "pre_10KB_items.csv"
					}
				},
				"load" : {
					"circular" : true,
					"type" : "read"
				}
			}
		},
		{
			"type" : "precondition",
			"config" : {
				"item" : {
					"data" : {
						"ranges" : {
							"random" : 1
						}
					},
					"input" : {
						"file" : "pre_10KB_items.csv"
					}
				},
				"load" : {
					"circular" : true,
					"type" : "update"
				}
			}
		},
		// create jobs
		{
			"type" : "for",
			"value" : "concurrency",
			"in" : [
				1, 2, 3, 4, 5, 10, 15, 20, 25, 40
			],
			"config" : {
				"item" : {
					"data" :  {
						"size" : "10KB"
					},
					"output" : {
						"file" : "10KB_items.csv"
					}
				},
				"storage" : {
					"driver" : {
						"concurrency" : "${concurrency}"
					}
				}
			},
			"steps" : [
				{
					"type" : "load"
				}
			]
		},
		{
			"type" : "for",
			"value" : "concurrency",
			"in" : [
				1, 2, 3, 4, 5, 10, 15, 20, 25, 40
			],
			"config" : {
				"item" : {
					"data" :  {
						"size" : "100KB"
					},
					"output" : {
						"file" : "100KB_items.csv"
					}
				},
				"storage" : {
					"driver" : {
						"concurrency" : "${concurrency}"
					}
				}
			},
			"steps" : [
				{
					"type" : "load"
				}
			]
		},
		{
			"type" : "for",
			"value" : "concurrency",
			"in" : [
				1, 2, 3, 4, 5, 10, 15, 20, 25
			],
			"config" : {
				"item" : {
					"data" :  {
						"size" : "1MB"
					},
					"output" : {
						"file" : "1MB_items.csv"
					}
				},
				"storage" : {
					"driver" : {
						"concurrency" : "${concurrency}"
					}
				}
			},
			"steps" : [
				{
					"type" : "load"
				}
			]
		},
		{
			"type" : "for",
			"value" : "concurrency",
			"in" : [
				1, 2, 3, 4, 5, 10, 15, 20
			],
			"config" : {
				"item" : {
					"data" :  {
						"size" : "10MB"
					},
					"output" : {
						"file" : "10MB_items.csv"
					}
				},
				"storage" : {
					"driver" : {
						"concurrency" : "${concurrency}"
					}
				}
			},
			"steps" : [
				{
					"type" : "load"
				}
			]
		},
		{
			"type" : "for",
			"value" : "concurrency",
			"in" : [
				1, 2, 3, 4, 5, 10, 15
			],
			"config" : {
				"item" : {
					"data" :  {
						"size" : "100MB"
					},
					"output" : {
						"file" : "100MB_items.csv"
					}
				},
				"storage" : {
					"driver" : {
						"concurrency" : "${concurrency}"
					}
				}
			},
			"steps" : [
				{
					"type" : "load"
				}
			]
		},
		{
			"type" : "for",
			"value" : "concurrency",
			"in" : [
				1, 2, 3, 4, 5, 10
			],
			"config" : {
				"item" : {
					"data" :  {
						"size" : "200MB"
					},
					"output" : {
						"file" : "200MB_items.csv"
					}
				},
				"storage" : {
					"driver" : {
						"concurrency" : "${concurrency}"
					}
				}
			},
			"steps" : [
				{
					"type" : "load"
				}
			]
		},
		// read and delete jobs
		{
			"type" : "for",
			"value" : "loadType",
			"in" : [
				"read", "delete"
			],
			"config" : {
				"load" : {
					"type" : "${loadType}"
				}
			},
			"steps" : [
				{
					"type" : "for",
					"value" : "concurrency",
					"in" : [
						1, 2, 3, 4, 5, 10, 15, 20, 25, 40
					],
					"config" : {
						"item" : {
							"data" :  {
								"size" : "10KB"
							},
							"input" : {
								"file" : "10KB_items.csv"
							}
						},
						"storage" : {
							"driver" : {
								"concurrency" : "${concurrency}"
							}
						}
					},
					"steps" : [
						{
							"type" : "load"
						}
					]
				},
				{
					"type" : "for",
					"value" : "concurrency",
					"in" : [
						1, 2, 3, 4, 5, 10, 15, 20, 25, 40
					],
					"config" : {
						"item" : {
							"data" :  {
								"size" : "100KB"
							},
							"input" : {
								"file" : "100KB_items.csv"
							}
						},
						"storage" : {
							"driver" : {
								"concurrency" : "${concurrency}"
							}
						}
					},
					"steps" : [
						{
							"type" : "load"
						}
					]
				},
				{
					"type" : "for",
					"value" : "concurrency",
					"in" : [
						1, 2, 3, 4, 5, 10, 15, 20, 25
					],
					"config" : {
						"item" : {
							"data" :  {
								"size" : "1MB"
							},
							"input" : {
								"file" : "1MB_items.csv"
							}
						},
						"storage" : {
							"driver" : {
								"concurrency" : "${concurrency}"
							}
						}
					},
					"steps" : [
						{
							"type" : "load"
						}
					]
				},
				{
					"type" : "for",
					"value" : "concurrency",
					"in" : [
						1, 2, 3, 4, 5, 10, 15, 20
					],
					"config" : {
						"item" : {
							"data" :  {
								"size" : "10MB"
							},
							"input" : {
								"file" : "10MB_items.csv"
							}
						},
						"storage" : {
							"driver" : {
								"concurrency" : "${concurrency}"
							}
						}
					},
					"steps" : [
						{
							"type" : "load"
						}
					]
				},
				{
					"type" : "for",
					"value" : "concurrency",
					"in" : [
						1, 2, 3, 4, 5, 10, 15
					],
					"config" : {
						"item" : {
							"data" :  {
								"size" : "100MB"
							},
							"input" : {
								"file" : "100MB_items.csv"
							}
						},
						"storage" : {
							"driver" : {
								"concurrency" : "${concurrency}"
							}
						}
					},
					"steps" : [
						{
							"type" : "load"
						}
					]
				},
				{
					"type" : "for",
					"value" : "concurrency",
					"in" : [
						1, 2, 3, 4, 5, 10
					],
					"config" : {
						"item" : {
							"data" :  {
								"size" : "200MB"
							},
							"input" : {
								"file" : "200MB_items.csv"
							}
						},
						"storage" : {
							"driver" : {
								"concurrency" : "${concurrency}"
							}
						}
					},
					"steps" : [
						{
							"type" : "load"
						}
					]
				}
			]
		}
	]
}
