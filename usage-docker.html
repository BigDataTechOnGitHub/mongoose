<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta charset="utf-8">
		<title>Mongoose Usage Docker</title>
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<fieldset>
			<legend><h2>DOCKER</h2></legend>
			<p>
				<fieldset>
					<legend><h3>GET AN IMAGE</h3></legend>
					<fieldset>
						<legend><b>Note</b></legend>
						<p>
							Since v2.5.6 the Docker Hub location changed to <b>emcmongoose/mongoose</b> instead of
							old one (akurilov/mongoose)
						</p>
					</fieldset>
					<p>To get the <i>latest</i> stable version:</p>
					<p><fieldset class="bash"><code>docker pull akurilov/mongoose</code></fieldset></p>
					<p>Otherwise, get the specific version:</p>
					<p><fieldset class="bash"><code>docker pull akurilov/mongoose:2.3.0</code></fieldset></p>
				</fieldset>
			</p>
			<p>
				<fieldset>
					<legend><h3>RUN THE LOAD SERVER</h3></legend>
					<fieldset class="bash"><code>docker run -d --name mongoose-server akurilov/mongoose server</code></fieldset>
				</fieldset>
			</p>
			<p>
				<fieldset>
					<legend><h3>RUN THE LOAD CLIENT</h3></legend>
					<fieldset class="bash">
						<code>
							docker run -d --name mongoose-client --env 'JAVA_TOOL_OPTIONS=-Dstorage.addrs=10.249.249.235,10.249.249.236,10.249.249.237,10.249.249.238 -Dload.servers=10.249.248.235,10.249.248.236,10.249.248.237,10.249.248.238 -Dload.threads=40 -Ditem.data.size=10KB -Dauth.id=wuser1@sanity.local -Dauth.secret=r+prABmbCjMQLvRh4JwHE9Ua2j4ktwKT49dZeVp4 -Drun.mode=client' akurilov/mongoose
						</code>
					</fieldset>
				</fieldset>
			</p>
			<p>
				<fieldset>
					<legend><h3>LOOKING INTO THE LOGS</h3></legend>
					<fieldset class="bash"><code>docker logs --tail 100 -f mongoose-client</code></fieldset>
				</fieldset>
			</p>
			<p>
				<fieldset>
					<legend><h3>USE WITH HIGH-LEVEL CLI</h3></legend>
					<fieldset class="bash">
						<code>
							docker run --rm akurilov/mongoose --ip 10.77.33.110 --user wuser1@sanity.local --secret g9yWv/uuso+YpPYRYmB2mwwBbyftmE1Rn2IRWZf+ --write --count 10000
						</code>
					</fieldset>
				</fieldset>
			</p>
		</fieldset>
	</body>
</html>
